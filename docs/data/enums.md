# 枚举定义

本文档定义全局唯一的枚举值，所有其他文档、配置、代码均应引用此处定义。

## 稀有度（rarity）

| 稀有度 | key | 视觉主色/边框 | 属性总和范围 | 掉落概率 |
|--------|---------|---------------|--------------|----------|
| 金 | `gold` | 金色 | 36-60 | 5% |
| 银 | `silver` | 银色 | 21-35 | 15% |
| 铜 | `copper` | 铜色 | 11-20 | 40% |
| 石 | `stone` | 灰/石质 | 5-10 | 40% |

## 基础属性（attributes）

场景检定的 `check.attribute` 只能从以下8项中选择。

| 中文名 | key | 说明 |
|--------|-----|------|
| 体魄 | `physique` | 身体素质、负重、耐受 |
| 魅力 | `charm` | 个人吸引力、第一印象 |
| 智慧 | `wisdom` | 学识、推理、理解 |
| 战斗 | `combat` | 暴力、武器、搏斗 |
| 社交 | `social` | 交涉、人情、关系网 |
| 生存 | `survival` | 野外、环境、求生 |
| 隐匿 | `stealth` | 潜行、藏匿、偷窃 |
| 魔力 | `magic` | 超自然能力 |

## 特殊属性（special_attributes）

| 中文名 | key | 范围 | 说明 |
|--------|-----|------|------|
| 支持 | `support` | -10 ~ 10 | 宫廷投票权重（≥0 支持，<0 反对） |
| 重投 | `reroll` | 0-10 | 每次检定允许重投的失败骰数量上限 |

## 卡牌类型（card_type）

| 类型 | key | 说明 |
|------|-----|------|
| 人物卡 | `character` | 可投入场景、可装备 |
| 装备卡 | `equipment` | 装备到人物卡上 |
| 情报卡 | `intel` | 提供检定加成 |
| 消耗品 | `consumable` | 使用后消耗 |
| 书籍卡 | `book` | 特殊携物 |
| 思潮卡 | `thought` | 合成材料 |
| 宝石卡 | `gem` | 镶嵌到装备 |
| 苏丹卡 | `sultan` | 核心机制卡 |

## 装备类型（equipment_type）

| 类型 | key | 主要加成属性 |
|------|-----|--------------|
| 武器 | `weapon` | combat |
| 防具 | `armor` | physique |
| 饰品 | `accessory` | 任意 |
| 坐骑 | `mount` | survival, stealth |

## 场景类型（scene_type）

| 类型 | key | 说明 |
|------|-----|------|
| 事件决策 | `event` | 多角色+分支选项 |
| 商店 | `shop` | 交易场景 |
| 检定挑战 | `challenge` | 纯检定场景 |

## 场景状态（scene_status）

| 状态 | key | 说明 |
|------|-----|------|
| 可用 | `available` | 显示在地图上，可参与 |
| 已参与 | `participated` | 玩家已投入卡片，等待结算 |
| 结算中 | `settling` | 正在进行结算流程 |
| 已完成 | `completed` | 结算完毕，即将移除或重置 |
| 锁定 | `locked` | 前置条件未满足 |

## 检定结果（check_result）

| 结果 | key | 条件 |
|------|-----|------|
| 成功 | `success` | `success_count >= target` |
| 险胜 | `partial_success` | `target - 2 <= success_count < target` |
| 失败 | `failure` | `1 <= success_count < target - 2` |
| 大失败 | `critical_failure` | `success_count == 0` |

## 检定池计算模式（calc_mode）

| 模式 | key | 说明 |
|------|-----|------|
| 最大值 | `max` | 取所有投入角色中该属性的最大值 |
| 求和 | `sum` | 所有投入角色的属性值相加 |
| 最小值 | `min` | 取所有投入角色中该属性的最小值 |
| 平均值 | `avg` | 所有投入角色的属性平均值（向下取整） |
| 首位 | `first` | 仅取第一个必选卡槽角色的属性 |
| 指定 | `specific` | 仅取特定卡槽角色的属性 |

## 卡槽类型（slot_type）

| 类型 | key | 说明 |
|------|-----|------|
| 人物卡槽 | `character` | 放置人物卡 |
| 物品卡槽 | `item` | 放置物品卡 |
| 苏丹卡槽 | `sultan` | 放置苏丹卡 |
| 金币卡槽 | `gold` | 用于交易 |

## 声望等级（reputation_level）

| 等级 | key | 区间 | 效果 |
|------|-----|------|------|
| 卑微 | `humble` | 0-19 | 部分场景拒绝参与，商店涨价50% |
| 平民 | `common` | 20-39 | 无特殊效果 |
| 受尊敬 | `respected` | 40-59 | 解锁中级场景，NPC好感度+1 |
| 显赫 | `prominent` | 60-79 | 解锁高级场景，商店打折10% |
| 传奇 | `legendary` | 80-100 | 解锁隐藏场景，特殊对话选项 |
